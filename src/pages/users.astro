---
import Layout from "../layouts/Layout.astro";

interface User {
  id: number;
  firstName: string;
  lastName: string;
  email: string;
  ipAddress: string;
}

const response = await fetch("https://jtc-astro-api.pages.dev/api/users.json");
const users: User[] = await response.json();
---

<Layout>
  <div class="px-10 py-5">
    <h1 class="mb-5 text-2xl">Users</h1>
    <table class="w-full table-auto">
      <tr class="text-left">
        <th>ID</th>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Email</th>
        <th>IP Address</th>
      </tr>
      <tbody
        >{
          users.map((user) => (
            <tr class="border-t border-gray-400">
              <td class="py-2">{user.id}</td>
              <td>{user.firstName}</td>
              <td>{user.lastName}</td>
              <td>{user.email}</td>
              <td>{user.ipAddress}</td>
            </tr>
          ))
        }</tbody
      >
    </table>
  </div>
</Layout>
